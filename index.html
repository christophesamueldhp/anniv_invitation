<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>3rd Anniversary Invitation üíñ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --pink-50: #fdf2f8; --pink-100: #fce7f3; --pink-200: #fbcfe8; --pink-300: #f9a8d4;
  --pink-400: #f472b6; --pink-500: #ec4899; --pink-600: #db2777;
  --purple-50: #faf5ff; --purple-100: #f3e8ff; --purple-200: #e9d5ff; --purple-300: #d8b4fe;
  --purple-400: #c084fc; --purple-500: #a855f7; --purple-600: #9333ea; --purple-700: #7e22ce;
  --blue-50: #eff6ff; --blue-100: #dbeafe; --blue-400: #60a5fa; --blue-500: #3b82f6;
  --green-50: #f0fdf4; --green-100: #dcfce7; --green-200: #bbf7d0; --green-300: #86efac;
  --green-400: #4ade80; --green-600: #16a34a; --green-700: #15803d;
  --teal-50: #f0fdfa; --teal-400: #2dd4bf;
  --orange-50: #fff7ed; --orange-200: #fed7aa; --orange-400: #fb923c; --orange-600: #ea580c; --orange-700: #c2410c;
  --yellow-100: #fef9c3; --yellow-200: #fef08a; --yellow-400: #facc15;
  --gray-200: #e5e7eb; --gray-400: #9ca3af; --gray-500: #6b7280;
  --gray-600: #4b5563; --gray-700: #374151; --gray-800: #1f2937;
}

html { font-size: 16px; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  min-height: 100vh;
  background: linear-gradient(135deg, var(--pink-50), var(--purple-50), var(--blue-50));
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

h1, h2, h3, h4, h5, h6 { font-family: 'Fredoka', 'Inter', sans-serif; }

/* ===== PROGRESS BAR ===== */
.progress-bar {
  position: fixed; top: 0; left: 0; right: 0; z-index: 50;
  background: rgba(255,255,255,0.9); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
  display: none;
}
.progress-bar.visible { display: block; }
.progress-inner {
  max-width: 390px; margin: 0 auto; padding: 12px 16px;
  display: flex; align-items: center; gap: 12px;
}
.progress-inner svg { width: 20px; height: 20px; color: var(--purple-600); flex-shrink: 0; }
.progress-track-wrap { flex: 1; }
.progress-labels {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;
}
.progress-labels span:first-child { font-size: 0.75rem; font-weight: 700; color: var(--gray-600); }
.progress-labels span:last-child { font-size: 0.75rem; font-weight: 700; color: var(--purple-600); }
.progress-track {
  height: 8px; background: var(--gray-200); border-radius: 9999px; overflow: hidden;
}
.progress-fill {
  height: 100%; width: 0%;
  background: linear-gradient(90deg, var(--pink-500), var(--purple-500), var(--blue-500));
  border-radius: 9999px; transition: width 0.3s ease;
}

/* ===== CONTAINER ===== */
.container {
  max-width: 390px; margin: 0 auto; padding: 32px 16px;
  display: flex; flex-direction: column; gap: 32px;
  position: relative;
}

/* ===== CONFETTI ===== */
.confetti-layer {
  position: fixed; inset: 0; pointer-events: none; z-index: 50; overflow: hidden;
  display: none;
}
.confetti-layer.active { display: block; }
.confetti-piece {
  position: absolute; top: -10%;
  animation: confettiFall linear forwards;
}
@keyframes confettiFall {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
}
.heart-burst {
  position: absolute; top: 50%; left: 50%;
  animation: burstOut 1.5s ease-out forwards;
}
@keyframes burstOut {
  0% { transform: translate(0,0) scale(1); opacity: 1; }
  100% { opacity: 0; scale: 0; }
}

/* ===== FLOATING HEARTS ===== */
.floating-hearts {
  position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 0;
}
.floating-heart {
  position: absolute; color: rgba(249,168,212,0.3);
  animation: floatUp linear infinite;
}
@keyframes floatUp {
  0% { transform: translateY(100vh); }
  100% { transform: translateY(-10vh); }
}

/* ===== HERO ===== */
.hero { text-align: center; padding-top: 32px; position: relative; animation: fadeInDown 0.6s ease-out; }

@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

.mascot-wrap {
  display: inline-block; position: relative;
  animation: bounceRotate 2s ease-in-out infinite;
}
@keyframes bounceRotate {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-10px) rotate(5deg); }
  75% { transform: translateY(-10px) rotate(-5deg); }
}

.mascot-container { position: relative; width: 96px; height: 96px; margin: 0 auto; }

.party-hat {
  position: absolute; top: -32px; left: 50%; transform: translateX(-50%);
  width: 0; height: 0;
  border-left: 20px solid transparent; border-right: 20px solid transparent;
  border-bottom: 35px solid var(--purple-500);
}
.party-hat::after {
  content: ''; position: absolute; top: 24px; left: 50%; transform: translateX(-50%);
  width: 8px; height: 8px; background: #fde047; border-radius: 50%;
}
.pom-pom {
  position: absolute; top: -40px; left: 50%; transform: translateX(-50%);
  width: 16px; height: 16px; background: var(--pink-400); border-radius: 50%;
}

.mascot-container svg { width: 100%; height: 100%; }

.headline { display: flex; flex-direction: column; gap: 8px; margin-top: 16px; }

.level-badge {
  display: inline-flex; align-items: center; gap: 8px;
  background: linear-gradient(90deg, var(--pink-400), var(--purple-500));
  color: #fff; padding: 8px 24px; border-radius: 9999px;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
  font-weight: 700; font-size: 1.125rem;
  animation: popIn 0.4s cubic-bezier(0.34,1.56,0.64,1) 0.2s both;
}
@keyframes popIn {
  from { transform: scale(0); } to { transform: scale(1); }
}

.level-badge svg { width: 20px; height: 20px; }

.title-anniversary {
  font-size: 2.25rem; font-weight: 700;
  background: linear-gradient(90deg, var(--pink-500), var(--purple-600));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.title-invitation { font-size: 1.5rem; font-weight: 700; color: var(--gray-700); }

.date-badge {
  display: inline-block; background: #fff; border-radius: 16px;
  padding: 12px 24px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
  border: 2px solid var(--pink-200); margin-top: 16px;
  animation: popIn 0.4s cubic-bezier(0.34,1.56,0.64,1) 0.4s both;
}
.date-badge .label { font-size: 0.875rem; color: var(--gray-500); font-weight: 500; }
.date-badge .date { font-size: 1.5rem; font-weight: 700; color: var(--pink-600); font-family: 'Fredoka', sans-serif; }

.hint {
  display: flex; align-items: center; justify-content: center; gap: 8px;
  font-size: 0.875rem; color: var(--gray-600); padding-top: 8px;
  animation: fadeIn 0.6s ease 0.6s both;
}
.hint span { font-style: italic; }
.hint svg { width: 16px; height: 16px; color: var(--purple-400); }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.deco-emoji {
  position: absolute; user-select: none; opacity: 0.2;
}

/* ===== ACCEPTANCE GATE ===== */
.acceptance-gate {
  background: #fff; border-radius: 24px; padding: 32px;
  box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); border: 2px solid var(--pink-200);
  position: relative; overflow: visible;
  animation: fadeInScale 0.5s ease both;
}
@keyframes fadeInScale {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

.gate-content { text-align: center; }
.gate-content .q1 { font-size: 1.5rem; font-weight: 700; color: var(--gray-800); font-family: 'Fredoka', sans-serif; }
.gate-content .q2 {
  font-size: 1.5rem; font-weight: 700; font-family: 'Fredoka', sans-serif;
  background: linear-gradient(90deg, var(--pink-500), var(--purple-600));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
}

.buttons-area {
  display: flex; flex-direction: column; align-items: center; gap: 16px;
  padding-top: 16px; min-height: 180px; position: relative;
}

.btn-yes {
  width: 100%; max-width: 200px; display: flex; align-items: center; justify-content: center; gap: 8px;
  background: linear-gradient(90deg, var(--pink-500), var(--purple-600));
  color: #fff; font-weight: 700; font-size: 1.125rem; font-family: 'Fredoka', sans-serif;
  padding: 16px 32px; border-radius: 9999px; border: none; cursor: pointer;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}
.btn-yes:hover { transform: scale(1.05); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }
.btn-yes:active { transform: scale(0.95); }
.btn-yes svg { width: 24px; height: 24px; }

.btn-no-wrap { position: relative; width: 100%; max-width: 200px; }
.btn-no {
  width: 100%; display: flex; align-items: center; justify-content: center; gap: 8px;
  background: var(--gray-200); color: var(--gray-600);
  font-weight: 700; font-size: 1.125rem; font-family: 'Fredoka', sans-serif;
  padding: 16px 32px; border-radius: 9999px; border: none; cursor: pointer;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
  transition: transform 0.35s cubic-bezier(0.34,1.56,0.64,1);
  user-select: none; touch-action: none;
  position: relative;
}
.btn-no svg { width: 24px; height: 24px; }

.funny-caption {
  font-size: 0.875rem; color: var(--gray-500); font-style: italic; padding-top: 8px;
  opacity: 0.5; transition: opacity 0.3s ease;
}
.funny-caption.active { opacity: 1; }

.gate-deco { position: absolute; font-size: 1.5rem; }

/* ===== LOCKED PREVIEW ===== */
.locked-preview { animation: fadeIn 0.5s ease both; }

.lock-card {
  background: linear-gradient(135deg, var(--purple-100), var(--pink-100));
  border-radius: 16px; padding: 24px; text-align: center;
  border: 2px solid var(--purple-200); margin-bottom: 16px;
}
.lock-card svg { width: 48px; height: 48px; color: var(--purple-500); margin: 0 auto 12px; }
.lock-card p { font-weight: 700; color: var(--purple-700); font-family: 'Fredoka', sans-serif; }

.locked-items { display: flex; flex-direction: column; gap: 12px; }
.locked-item {
  position: relative; border-radius: 16px; overflow: hidden;
  background: rgba(255,255,255,0.5); backdrop-filter: blur(2px);
  border: 2px solid var(--gray-200); padding: 16px;
  animation: fadeInLeft 0.4s ease both;
}
.locked-item:nth-child(1) { animation-delay: 0s; }
.locked-item:nth-child(2) { animation-delay: 0.1s; }
.locked-item:nth-child(3) { animation-delay: 0.2s; }
.locked-item:nth-child(4) { animation-delay: 0.3s; }

@keyframes fadeInLeft {
  from { opacity: 0; transform: translateX(-20px); }
  to { opacity: 1; transform: translateX(0); }
}

.locked-overlay {
  position: absolute; inset: 0; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  background: rgba(255,255,255,0.3); z-index: 10;
  display: flex; align-items: center; justify-content: center;
}
.locked-overlay svg { width: 24px; height: 24px; color: var(--gray-400); }

.locked-content {
  display: flex; align-items: center; gap: 16px; opacity: 0.4;
}
.locked-icon-box {
  width: 48px; height: 48px; flex-shrink: 0;
  background: linear-gradient(135deg, var(--pink-200), var(--purple-200));
  border-radius: 12px; display: flex; align-items: center; justify-content: center;
}
.locked-icon-box svg { width: 24px; height: 24px; color: var(--purple-600); }
.locked-text { flex: 1; }
.locked-text .name { font-weight: 700; color: var(--gray-800); }
.locked-text .sub { font-size: 0.875rem; color: var(--gray-500); }
.locked-time { font-size: 0.875rem; font-weight: 700; color: var(--gray-400); }

/* ===== QUEST ACCEPTED BANNER ===== */
.quest-accepted {
  background: linear-gradient(90deg, var(--pink-400), var(--purple-400));
  border-radius: 24px; padding: 24px; text-align: center;
  box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
  animation: fadeInScale 0.5s ease both;
  display: none;
}
.quest-accepted.visible { display: block; }

.quest-accepted .party-icon {
  width: 64px; height: 64px; margin: 0 auto 12px;
  animation: wiggle 0.5s ease;
}
@keyframes wiggle {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(10deg); }
  75% { transform: rotate(-10deg); }
  100% { transform: rotate(0deg); }
}
.quest-accepted h2 { font-size: 1.5rem; font-weight: 700; color: #fff; margin-bottom: 8px; }
.quest-accepted p { color: rgba(255,255,255,0.9); }

/* ===== REVEALED CONTENT ===== */
.revealed-content {
  display: none; flex-direction: column; gap: 32px;
  animation: fadeInUp 0.5s ease both;
}
.revealed-content.visible { display: flex; }

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ===== TIMELINE ===== */
.timeline-section { animation: fadeInUp 0.5s ease 0.3s both; }
.timeline-header { text-align: center; margin-bottom: 24px; }
.timeline-header h2 { font-size: 1.5rem; font-weight: 700; color: var(--gray-800); }
.timeline-header p { font-size: 0.875rem; color: var(--gray-600); margin-top: 4px; }

.timeline { position: relative; display: flex; flex-direction: column; gap: 16px; }

.timeline-line {
  position: absolute; left: 26px; top: 32px; bottom: 32px; width: 4px;
  background: linear-gradient(to bottom, var(--pink-300), var(--purple-300), #86efac);
  border-radius: 9999px;
}

.timeline-step {
  position: relative;
  animation: fadeInLeft 0.4s ease both;
}
.timeline-step:nth-child(2) { animation-delay: 0.5s; }
.timeline-step:nth-child(3) { animation-delay: 0.65s; }
.timeline-step:nth-child(4) { animation-delay: 0.8s; }
.timeline-step:nth-child(5) { animation-delay: 0.95s; }

.timeline-card {
  margin-left: 64px; background: #fff; border-radius: 16px; padding: 20px;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); border: 2px solid var(--gray-200);
}
.timeline-card.highlight {
  border-color: var(--green-400);
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 0 0 4px var(--green-200);
}

.timeline-dot {
  position: absolute; left: 14px; top: 24px;
  width: 28px; height: 28px; border-radius: 50%;
  border: 4px solid #fff; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
  display: flex; align-items: center; justify-content: center; z-index: 10;
}
.timeline-dot svg { width: 14px; height: 14px; color: #fff; }

.dot-orange { background: linear-gradient(135deg, var(--orange-400), var(--pink-400)); }
.dot-pink { background: linear-gradient(135deg, var(--pink-400), var(--purple-400)); }
.dot-purple { background: linear-gradient(135deg, var(--purple-400), var(--blue-400)); }
.dot-green { background: linear-gradient(135deg, var(--green-400), var(--teal-400)); }

.card-top {
  display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 8px;
}
.step-badge {
  font-size: 0.75rem; font-weight: 700; padding: 4px 12px;
  border-radius: 9999px; color: #fff;
}
.badge-orange { background: linear-gradient(90deg, var(--orange-400), var(--pink-400)); }
.badge-pink { background: linear-gradient(90deg, var(--pink-400), var(--purple-400)); }
.badge-purple { background: linear-gradient(90deg, var(--purple-400), var(--blue-400)); }
.badge-green { background: linear-gradient(90deg, var(--green-400), var(--teal-400)); }

.step-time { font-size: 1.125rem; font-weight: 700; color: var(--gray-700); }
.step-time.highlight-time { font-size: 1.25rem; color: var(--green-600); }

.step-title { font-weight: 700; font-size: 1.125rem; color: var(--gray-800); margin-bottom: 4px; font-family: 'Fredoka', sans-serif; }
.step-title.highlight-title { font-size: 1.25rem; color: var(--green-700); }
.step-title .note { font-size: 0.875rem; color: var(--gray-500); font-weight: 400; margin-left: 8px; }
.step-subtitle { font-size: 0.875rem; color: var(--gray-600); }

.mystery-badge {
  margin-top: 12px; background: linear-gradient(90deg, var(--purple-100), var(--blue-100));
  border-radius: 12px; padding: 12px; border: 1px solid var(--purple-200);
  display: flex; align-items: center; gap: 8px;
}
.mystery-badge svg { width: 16px; height: 16px; color: var(--purple-500); }
.mystery-badge span { font-size: 0.75rem; font-weight: 700; color: var(--purple-700); }

.highlight-note {
  margin-top: 12px; background: var(--green-50); border-radius: 12px;
  padding: 12px; border: 1px solid var(--green-200);
}
.highlight-note p { font-size: 0.75rem; font-weight: 700; color: var(--green-700); }

.xp-badge {
  background: linear-gradient(90deg, var(--yellow-400), var(--orange-400));
  border-radius: 16px; padding: 16px; text-align: center;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
  animation: popIn 0.4s cubic-bezier(0.34,1.56,0.64,1) 1.2s both;
}
.xp-badge .xp-text { color: #fff; font-weight: 700; font-size: 1.125rem; font-family: 'Fredoka', sans-serif; }
.xp-badge .xp-sub { color: rgba(255,255,255,0.9); font-size: 0.875rem; }

/* ===== DETAILS CARDS ===== */
.details-section { animation: fadeInUp 0.5s ease 0.8s both; }
.details-header { text-align: center; margin-bottom: 24px; }
.details-header h2 { font-size: 1.5rem; font-weight: 700; color: var(--gray-800); }

.details-cards { display: flex; flex-direction: column; gap: 16px; }

.detail-card {
  border-radius: 16px; padding: 20px;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
}

.card-icon-row { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
.card-icon-box {
  width: 40px; height: 40px; border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
}
.card-icon-box svg { width: 20px; height: 20px; color: #fff; }
.card-icon-row h3 { font-weight: 700; font-size: 1.125rem; color: var(--gray-800); }

.info-box {
  border-radius: 12px; padding: 12px; margin-bottom: 8px;
}
.info-box .info-label { font-weight: 700; font-size: 0.875rem; margin-bottom: 4px; }
.info-box .info-value { font-size: 0.875rem; color: var(--gray-600); }

.info-box-row { display: flex; align-items: flex-start; gap: 8px; }
.info-box-row svg { width: 16px; height: 16px; margin-top: 2px; flex-shrink: 0; }

.map-btn {
  margin-top: 12px; width: 100%; display: flex; align-items: center; justify-content: center; gap: 8px;
  color: #fff; font-weight: 700; font-family: 'Fredoka', sans-serif;
  padding: 12px 16px; border-radius: 12px; border: none; cursor: pointer;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
  transition: box-shadow 0.15s ease;
}
.map-btn:hover { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
.map-btn svg { width: 16px; height: 16px; }

/* Lunch card */
.card-lunch { background: #fff; border: 2px solid var(--orange-200); }
.card-lunch .card-icon-box { background: linear-gradient(135deg, var(--orange-400), var(--pink-400)); }
.card-lunch .info-box { background: var(--orange-50); border: 1px solid var(--orange-200); }
.card-lunch .info-label { color: var(--orange-700); }
.card-lunch .info-box-row svg { color: var(--orange-600); }
.card-lunch .map-btn { background: linear-gradient(90deg, var(--orange-400), var(--pink-400)); }

/* Sushi card */
.card-sushi {
  background: linear-gradient(135deg, var(--green-50), var(--teal-50));
  border: 2px solid var(--green-400);
  box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 0 0 4px var(--green-200);
}
.card-sushi .card-icon-box { background: linear-gradient(135deg, var(--green-400), var(--teal-400)); }
.card-sushi .card-icon-row h3 { font-size: 1.25rem; color: var(--green-700); }
.card-sushi .time-highlight {
  background: var(--green-100); border-radius: 12px; padding: 12px;
  border: 2px solid var(--green-300); text-align: center; margin-bottom: 12px;
}
.card-sushi .time-highlight .t-label { font-size: 0.75rem; font-weight: 700; color: var(--green-600); margin-bottom: 4px; }
.card-sushi .time-highlight .t-value { font-size: 1.875rem; font-weight: 700; color: var(--green-700); font-family: 'Fredoka', sans-serif; }
.card-sushi .time-highlight .t-note { font-size: 0.75rem; color: var(--green-600); margin-top: 4px; }
.card-sushi .info-box { background: #fff; border: 2px solid var(--green-200); }
.card-sushi .info-label { color: var(--green-700); }
.card-sushi .info-value { color: var(--gray-700); }
.card-sushi .info-box-row svg { color: var(--green-600); }
.card-sushi .map-btn { background: linear-gradient(90deg, var(--green-400), var(--teal-400)); }

/* Dress Code card */
.card-dress {
  background: linear-gradient(135deg, var(--pink-100), var(--purple-100));
  border: 2px solid var(--pink-200);
}
.card-dress .card-icon-box { background: linear-gradient(135deg, var(--pink-400), var(--purple-400)); }
.card-dress .dress-content {
  background: #fff; border-radius: 12px; padding: 16px; text-align: center;
  border: 2px solid var(--pink-200);
}
.card-dress .dress-content .main { font-size: 1.125rem; font-weight: 700; color: var(--pink-600); }
.card-dress .dress-content .sub { font-size: 0.875rem; color: var(--gray-600); margin-top: 4px; }

/* What to Bring card */
.card-bring {
  background: linear-gradient(135deg, var(--yellow-100), var(--orange-50));
  border: 2px solid var(--yellow-200);
}
.card-bring .card-icon-box { background: linear-gradient(135deg, var(--yellow-400), var(--orange-400)); }
.card-bring .bring-item {
  background: #fff; border-radius: 12px; padding: 12px;
  display: flex; align-items: center; gap: 12px;
  border: 2px solid var(--yellow-200); margin-bottom: 8px;
}
.card-bring .bring-item .emoji { font-size: 1.5rem; }
.card-bring .bring-item .text { font-weight: 500; color: var(--gray-700); }

/* ===== ENDING ===== */
.ending-section { padding-bottom: 48px; animation: fadeInScale 0.5s ease 1s both; }

.closing-card {
  background: linear-gradient(135deg, var(--pink-200), var(--purple-200), var(--blue-200));
  border-radius: 24px; padding: 32px; text-align: center;
  box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
  border: 2px solid var(--pink-300); position: relative; overflow: hidden;
}
.closing-card .deco { position: absolute; opacity: 0.2; }
.closing-heart {
  width: 64px; height: 64px; margin: 0 auto 16px; color: var(--pink-600);
  animation: heartPulse 2s ease-in-out infinite;
  position: relative; z-index: 10;
}
@keyframes heartPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}
.closing-card h2 { font-size: 1.5rem; font-weight: 700; color: var(--gray-800); margin-bottom: 8px; position: relative; z-index: 10; }
.closing-card .level-text {
  font-size: 1.875rem; font-weight: 700;
  background: linear-gradient(90deg, var(--pink-600), var(--purple-600));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  margin-bottom: 16px; position: relative; z-index: 10;
}
.closing-date {
  display: flex; align-items: center; justify-content: center; gap: 8px;
  color: var(--pink-600); position: relative; z-index: 10;
}
.closing-date svg { width: 20px; height: 20px; }
.closing-date span { font-weight: 500; }

/* Signature */
.signature-card {
  background: #fff; border-radius: 16px; padding: 24px;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
  border: 2px solid var(--gray-200); margin-top: 24px;
  display: flex; flex-direction: column; gap: 12px;
}
.sig-row { display: flex; align-items: center; }
.sig-row .sig-label { font-size: 0.875rem; font-weight: 700; color: var(--gray-500); width: 45px; }
.sig-row .sig-input {
  flex: 1; margin-left: 12px; border-radius: 8px; padding: 8px 16px;
  border: 1px solid; font-family: 'Inter', sans-serif; font-size: 1rem;
  color: var(--gray-700); font-weight: 500;
}
.sig-row .sig-input:focus { outline: none; }
.sig-row .sig-input.pink { background: #fdf2f8; border-color: var(--pink-200); }
.sig-row .sig-input.purple { background: #faf5ff; border-color: var(--purple-200); }
.sig-row .sig-input::placeholder { color: var(--gray-400); }

/* Achievement Badge */
.achievement {
  background: linear-gradient(90deg, var(--yellow-400), var(--orange-400), var(--pink-400));
  border-radius: 16px; padding: 24px; text-align: center;
  box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); margin-top: 24px;
  animation: wobble 1s ease-in-out infinite alternate;
}
@keyframes wobble {
  from { transform: rotate(-5deg); }
  to { transform: rotate(5deg); }
}
.achievement .trophy { font-size: 2.5rem; margin-bottom: 8px; }
.achievement .ach-title { color: #fff; font-weight: 700; font-size: 1.125rem; font-family: 'Fredoka', sans-serif; }
.achievement .ach-sub { color: rgba(255,255,255,0.9); font-size: 0.875rem; }

/* Footer */
.footer {
  text-align: center; font-size: 0.875rem; color: var(--gray-500);
  font-style: italic; padding-top: 16px;
}

/* ===== UTILITY ===== */
.hidden { display: none !important; }

/* SVG icon base */
.icon { display: inline-block; vertical-align: middle; }
</style>
</head>
<body>

<!-- Progress Bar -->
<div class="progress-bar" id="progressBar">
  <div class="progress-inner">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>
    <div class="progress-track-wrap">
      <div class="progress-labels">
        <span>Quest Progress</span>
        <span id="progressPercent">0%</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>
  </div>
</div>

<!-- Confetti Layer -->
<div class="confetti-layer" id="confettiLayer"></div>

<!-- Floating Hearts Background -->
<div class="floating-hearts" id="floatingHearts"></div>

<!-- Main Content -->
<div class="container">

  <!-- 1. HERO -->
  <section class="hero">
    <div class="deco-emoji" style="top:80px;left:8px;font-size:3.75rem;">üíï</div>
    <div class="deco-emoji" style="top:128px;right:48px;font-size:2.5rem;">‚ú®</div>
    <div class="deco-emoji" style="top:256px;left:64px;font-size:3.125rem;">üéÆ</div>

    <div class="mascot-wrap">
      <div class="mascot-container">
        <div class="party-hat"></div>
        <div class="pom-pom"></div>
        <svg viewBox="0 0 100 100">
          <path d="M50,90 C50,90 10,65 10,40 C10,25 20,15 32.5,15 C40,15 45,20 50,27.5 C55,20 60,15 67.5,15 C80,15 90,25 90,40 C90,65 50,90 50,90 Z" fill="#FF9EBE" stroke="#FF6B9D" stroke-width="2"/>
          <circle cx="38" cy="42" r="3" fill="#333"/>
          <circle cx="62" cy="42" r="3" fill="#333"/>
          <path d="M 38 52 Q 50 60 62 52" stroke="#333" stroke-width="2" fill="none" stroke-linecap="round"/>
          <circle cx="28" cy="48" r="5" fill="#FF6B9D" opacity="0.3"/>
          <circle cx="72" cy="48" r="5" fill="#FF6B9D" opacity="0.3"/>
        </svg>
      </div>
    </div>

    <div class="headline">
      <div style="text-align:center;">
        <span class="level-badge">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>
          Level 3 Unlocked üíñ
        </span>
      </div>
      <h1 class="title-anniversary">3rd Anniversary</h1>
      <h2 class="title-invitation">Invitation</h2>
    </div>

    <div class="date-badge">
      <div class="label">Quest Date</div>
      <div class="date">21 Feb 2026</div>
    </div>

    <div class="hint">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
      <span>Schedule is locked until you accept the quest</span>
    </div>
  </section>

  <!-- 2. ACCEPTANCE GATE -->
  <section class="acceptance-gate" id="acceptanceGate">
    <div class="gate-deco" style="top:16px;right:16px;">üíñ</div>
    <div class="gate-deco" style="bottom:16px;left:16px;">‚ú®</div>
    <div class="gate-content">
      <div style="margin-bottom:8px;">
        <div class="q1">Will you be my teammate</div>
        <div class="q2">for Level 3?</div>
      </div>
      <div class="buttons-area">
        <button class="btn-yes" id="btnYes">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
          YES ‚úÖ
        </button>
        <div class="btn-no-wrap">
          <button class="btn-no" id="btnNo">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            NO üôÉ
          </button>
        </div>
      </div>
      <p class="funny-caption" id="funnyCaption">Nice try üòå</p>
    </div>
  </section>

  <!-- 3. LOCKED PREVIEW -->
  <section class="locked-preview" id="lockedPreview">
    <div class="lock-card">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
      <p>üîí Tap YES to unlock the plan</p>
    </div>
    <div class="locked-items">
      <div class="locked-item">
        <div class="locked-overlay">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        </div>
        <div class="locked-content">
          <div class="locked-icon-box"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg></div>
          <div class="locked-text"><div class="name">Lunch üçΩÔ∏è</div><div class="sub">(Locked)</div></div>
          <div class="locked-time">12:30</div>
        </div>
      </div>
      <div class="locked-item">
        <div class="locked-overlay">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        </div>
        <div class="locked-content">
          <div class="locked-icon-box"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></svg></div>
          <div class="locked-text"><div class="name">Gift Exchange üéÅ</div><div class="sub">(Locked)</div></div>
          <div class="locked-time">14:00</div>
        </div>
      </div>
      <div class="locked-item">
        <div class="locked-overlay">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        </div>
        <div class="locked-content">
          <div class="locked-icon-box"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg></div>
          <div class="locked-text"><div class="name">Secret Activity ü§´</div><div class="sub">(Locked)</div></div>
          <div class="locked-time">16:00</div>
        </div>
      </div>
      <div class="locked-item">
        <div class="locked-overlay">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        </div>
        <div class="locked-content">
          <div class="locked-icon-box"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg></div>
          <div class="locked-text"><div class="name">Sushi Dinner üç£</div><div class="sub">(Locked)</div></div>
          <div class="locked-time">18:30</div>
        </div>
      </div>
    </div>
  </section>

  <!-- 4. QUEST ACCEPTED BANNER -->
  <section class="quest-accepted" id="questAccepted">
    <svg class="party-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5.8 11.3 2 22l10.7-3.79"/><path d="M4 3h.01"/><path d="M22 8h.01"/><path d="M15 2h.01"/><path d="M22 20h.01"/><path d="m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"/><path d="m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17"/><path d="m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7"/><path d="M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"/></svg>
    <h2>Quest Accepted! üéâ</h2>
    <p>Adventure unlocked! Scroll to see the plan ‚ú®</p>
  </section>

  <!-- 5-8. REVEALED CONTENT -->
  <div class="revealed-content" id="revealedContent">

    <!-- 6. TIMELINE -->
    <section class="timeline-section">
      <div class="timeline-header">
        <h2>Quest Timeline ‚öîÔ∏è</h2>
        <p>Follow the path to victory!</p>
      </div>
      <div class="timeline">
        <div class="timeline-line"></div>

        <!-- Step 1: Lunch -->
        <div class="timeline-step">
          <div class="timeline-dot dot-orange">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>
          </div>
          <div class="timeline-card">
            <div class="card-top">
              <span class="step-badge badge-orange">Step 1</span>
              <span class="step-time">12:30</span>
            </div>
            <div class="step-title">Lunch üçΩÔ∏è</div>
            <p class="step-subtitle">Warm-up mission: eat and laugh</p>
          </div>
        </div>

        <!-- Step 2: Gift Exchange -->
        <div class="timeline-step">
          <div class="timeline-dot dot-pink">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></svg>
          </div>
          <div class="timeline-card">
            <div class="card-top">
              <span class="step-badge badge-pink">Step 2</span>
              <span class="step-time">14:00</span>
            </div>
            <div class="step-title">Gift Exchange üéÅ <span class="note">(Tukar Kado)</span></div>
            <p class="step-subtitle">Inventory trade: +1 happiness</p>
          </div>
        </div>

        <!-- Step 3: Secret Activity -->
        <div class="timeline-step">
          <div class="timeline-dot dot-purple">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
          </div>
          <div class="timeline-card">
            <div class="card-top">
              <span class="step-badge badge-purple">Step 3</span>
              <span class="step-time">16:00</span>
            </div>
            <div class="step-title">Secret Activity ü§´</div>
            <p class="step-subtitle">Classified mission: details will appear on the day</p>
            <div class="mystery-badge">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
              <span>??? MYSTERY BADGE</span>
            </div>
          </div>
        </div>

        <!-- Finale: Sushi Dinner -->
        <div class="timeline-step">
          <div class="timeline-dot dot-green">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>
          </div>
          <div class="timeline-card highlight">
            <div class="card-top">
              <span class="step-badge badge-green">Finale</span>
              <span class="step-time highlight-time">18:30</span>
            </div>
            <div class="step-title highlight-title">Sushi Dinner üç£</div>
            <p class="step-subtitle">Final boss: unlimited smiles (not unlimited sushi)</p>
            <div class="highlight-note">
              <p>‚≠ê Main Event - Don't miss this!</p>
            </div>
          </div>
        </div>
      </div>

      <!-- XP Badge -->
      <div class="xp-badge" style="margin-top:24px;">
        <div class="xp-text">+1000 XP üåü</div>
        <div class="xp-sub">Complete all quests to level up!</div>
      </div>
    </section>

    <!-- 7. DETAILS CARDS -->
    <section class="details-section">
      <div class="details-header">
        <h2>Quest Details üìã</h2>
      </div>
      <div class="details-cards">

        <!-- Lunch -->
        <div class="detail-card card-lunch">
          <div class="card-icon-row">
            <div class="card-icon-box"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg></div>
            <h3>Lunch Location</h3>
          </div>
          <div class="info-box">
            <div class="info-label">Restaurant Name</div>
            <div class="info-value">[Your favorite lunch spot]</div>
          </div>
          <div class="info-box">
            <div class="info-box-row">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
              <div>
                <div class="info-label">Address</div>
                <div class="info-value">[Address here]</div>
              </div>
            </div>
          </div>
          <div class="info-box">
            <div class="info-label">Note</div>
            <div class="info-value" style="font-style:italic;">[Optional: "Come hungry!" or special note]</div>
          </div>
          <button class="map-btn" style="background:linear-gradient(90deg,var(--orange-400),var(--pink-400));">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
            Open Map
          </button>
        </div>

        <!-- Sushi Dinner -->
        <div class="detail-card card-sushi">
          <div class="card-icon-row">
            <div class="card-icon-box"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg></div>
            <h3>Sushi Dinner üç£</h3>
          </div>
          <div class="time-highlight">
            <div class="t-label">‚è∞ TIME</div>
            <div class="t-value">18:30</div>
            <div class="t-note">Don't be late for the finale!</div>
          </div>
          <div style="display:flex;flex-direction:column;gap:8px;">
            <div class="info-box">
              <div class="info-label">Restaurant</div>
              <div class="info-value">[Sushi Restaurant Name]</div>
            </div>
            <div class="info-box">
              <div class="info-box-row">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                <div>
                  <div class="info-label">Address</div>
                  <div class="info-value">[Sushi restaurant address]</div>
                </div>
              </div>
            </div>
            <div class="info-box">
              <div class="info-label">Reservation</div>
              <div class="info-value">[Table reserved / Walk-in]</div>
            </div>
          </div>
          <button class="map-btn" style="background:linear-gradient(90deg,var(--green-400),var(--teal-400));">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
            Open Map
          </button>
        </div>

        <!-- Dress Code -->
        <div class="detail-card card-dress">
          <div class="card-icon-row">
            <div class="card-icon-box"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23Z"/></svg></div>
            <h3>Dress Code</h3>
          </div>
          <div class="dress-content">
            <p class="main">Cute &amp; comfy ‚ú®</p>
            <p class="sub">Wear something that makes you smile!</p>
          </div>
        </div>

        <!-- What to Bring -->
        <div class="detail-card card-bring">
          <div class="card-icon-row">
            <div class="card-icon-box"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></svg></div>
            <h3>Don't Forget!</h3>
          </div>
          <div class="bring-item">
            <span class="emoji">üòÑ</span>
            <span class="text">Your smile</span>
          </div>
          <div class="bring-item">
            <span class="emoji">üéÅ</span>
            <span class="text">The gift (for our exchange!)</span>
          </div>
        </div>
      </div>
    </section>

    <!-- 8. ENDING -->
    <section class="ending-section">
      <div class="closing-card">
        <div class="deco" style="top:16px;left:16px;font-size:2.5rem;">üíñ</div>
        <div class="deco" style="top:32px;right:32px;font-size:1.875rem;">‚ú®</div>
        <div class="deco" style="bottom:24px;left:48px;font-size:1.875rem;">üéÆ</div>
        <div class="deco" style="bottom:32px;right:24px;font-size:2.5rem;">üíï</div>

        <div class="closing-heart">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        </div>

        <h2>See you on our</h2>
        <div class="level-text">Level 3 Date üíñ</div>

        <div class="closing-date">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
          <span>21 February 2026</span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
        </div>
      </div>

      <!-- Signature -->
      <div class="signature-card">
        <div class="sig-row">
          <span class="sig-label">From:</span>
          <input type="text" class="sig-input pink" placeholder="[Your Name]">
        </div>
        <div class="sig-row">
          <span class="sig-label">To:</span>
          <input type="text" class="sig-input purple" placeholder="[Partner Name]">
        </div>
      </div>

      <!-- Achievement -->
      <div class="achievement">
        <div class="trophy">üèÜ</div>
        <div class="ach-title">Achievement Unlocked!</div>
        <div class="ach-sub">3 Years of Love & Adventures</div>
      </div>

      <!-- Footer -->
      <div class="footer">Made with üíñ for our special day</div>
    </section>
  </div>

</div>

<script>
(function() {
  // === State ===
  let questAccepted = false;
  let dodgeCount = 0;
  let isHovering = false;

  // === DOM refs ===
  const btnYes = document.getElementById('btnYes');
  const btnNo = document.getElementById('btnNo');
  const funnyCaption = document.getElementById('funnyCaption');
  const acceptanceGate = document.getElementById('acceptanceGate');
  const lockedPreview = document.getElementById('lockedPreview');
  const questAcceptedBanner = document.getElementById('questAccepted');
  const revealedContent = document.getElementById('revealedContent');
  const progressBar = document.getElementById('progressBar');
  const progressFill = document.getElementById('progressFill');
  const progressPercent = document.getElementById('progressPercent');
  const confettiLayer = document.getElementById('confettiLayer');
  const floatingHearts = document.getElementById('floatingHearts');

  // === Floating Hearts ===
  function createFloatingHearts() {
    for (let i = 0; i < 8; i++) {
      const heart = document.createElement('div');
      heart.className = 'floating-heart';
      heart.style.left = (Math.random() * 100) + '%';
      heart.style.animationDuration = (15 + Math.random() * 10) + 's';
      heart.style.animationDelay = (i * 2) + 's';
      heart.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>';
      floatingHearts.appendChild(heart);
    }
  }
  createFloatingHearts();

  // === NO Button Dodge ===
  function dodgeButton() {
    const maxX = 150;
    const maxY = 100;
    const patterns = [
      { x: Math.random() * maxX - maxX / 2, y: Math.random() * maxY - maxY / 2 },
      { x: dodgeCount % 2 === 0 ? 120 : -120, y: 0 },
      { x: 0, y: dodgeCount % 2 === 0 ? 80 : -80 },
      { x: Math.random() > 0.5 ? 100 : -100, y: Math.random() > 0.5 ? 60 : -60 },
    ];
    const pattern = patterns[dodgeCount % patterns.length];
    btnNo.style.transform = `translate(${pattern.x}px, ${pattern.y}px) rotate(5deg) scale(0.85)`;
    dodgeCount++;
    funnyCaption.classList.add('active');
    funnyCaption.textContent = dodgeCount > 3 ? 'Still trying? üòè' : 'Nice try üòå';
  }

  function resetNoButton() {
    setTimeout(() => {
      if (!isHovering) {
        btnNo.style.transform = 'translate(0, 0) rotate(0deg) scale(1)';
      }
    }, 300);
  }

  btnNo.addEventListener('mouseenter', () => { isHovering = true; dodgeButton(); });
  btnNo.addEventListener('mouseleave', () => { isHovering = false; resetNoButton(); });
  btnNo.addEventListener('touchstart', (e) => { e.preventDefault(); isHovering = true; dodgeButton(); }, { passive: false });
  btnNo.addEventListener('touchend', () => { isHovering = false; resetNoButton(); });

  // Mobile: dodge NO button when user taps anywhere on the acceptance gate area
  acceptanceGate.addEventListener('touchstart', (e) => {
    // Don't interfere with YES button
    if (e.target === btnYes || btnYes.contains(e.target)) return;
    // Don't double-fire if tapping directly on NO button
    if (e.target === btnNo || btnNo.contains(e.target)) return;
    dodgeButton();
  }, { passive: true });

  // === Confetti ===
  function launchConfetti() {
    confettiLayer.classList.add('active');
    confettiLayer.innerHTML = '';

    const colors = ['#ec4899', '#a855f7', '#facc15', '#3b82f6'];
    const shapes = [
      '<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>',
      '<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>',
      '<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>',
    ];

    // Falling confetti
    for (let i = 0; i < 30; i++) {
      const piece = document.createElement('div');
      piece.className = 'confetti-piece';
      piece.style.left = (Math.random() * 100) + '%';
      piece.style.color = colors[i % 4];
      piece.style.animationDuration = (3 + Math.random()) + 's';
      piece.style.animationDelay = (Math.random() * 0.5) + 's';
      piece.innerHTML = shapes[i % 3];
      confettiLayer.appendChild(piece);
    }

    // Heart burst from center
    for (let i = 0; i < 12; i++) {
      const angle = (i * 360) / 12;
      const rad = (angle * Math.PI) / 180;
      const burst = document.createElement('div');
      burst.className = 'heart-burst';
      burst.style.color = '#ec4899';
      burst.style.setProperty('--tx', Math.cos(rad) * 300 + 'px');
      burst.style.setProperty('--ty', Math.sin(rad) * 300 + 'px');
      burst.style.animation = 'none';
      burst.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>';
      confettiLayer.appendChild(burst);
      // Animate via JS
      requestAnimationFrame(() => {
        burst.style.transition = 'all 1.5s ease-out';
        burst.style.transform = `translate(${Math.cos(rad) * 300}px, ${Math.sin(rad) * 300}px) scale(0)`;
        burst.style.opacity = '0';
      });
    }

    setTimeout(() => {
      confettiLayer.classList.remove('active');
      confettiLayer.innerHTML = '';
    }, 4000);
  }

  // === Accept Quest ===
  btnYes.addEventListener('click', () => {
    if (questAccepted) return;
    questAccepted = true;

    // Hide gate and locked preview
    acceptanceGate.style.display = 'none';
    lockedPreview.style.display = 'none';

    // Show accepted banner
    questAcceptedBanner.classList.add('visible');

    // Show revealed content
    revealedContent.classList.add('visible');

    // Show progress bar
    progressBar.classList.add('visible');

    // Launch confetti
    launchConfetti();
  });

  // === Scroll Progress ===
  window.addEventListener('scroll', () => {
    if (!questAccepted) return;
    const scrollTop = window.scrollY;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const progress = Math.min((scrollTop / docHeight) * 100, 100);
    progressFill.style.width = progress + '%';
    progressPercent.textContent = Math.round(progress) + '%';
  });
})();
</script>
</body>
</html>
